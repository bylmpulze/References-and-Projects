import pygame



class PowerUpConfig:
    def __init__(self):
        self.speed_boost_x2 = False
        self.speed_half = False
        self.extra_life = False  
        self.powerup_magnet = False
        self.powerup_drunk = False
        self.powerup_drunk_duration = 0 # Dauer - umgekehrte steuerung (nicht fertig)
        self.powerup_magnet_duration = 0 #Dauer Apfel heranziehen (nicht fertig)
        self.speed_boost_x2_duration = 0 # Dauer - doppelte Geschwindigkeit  (1000 = 1 sec) (nicht fertig)
        self.extra_life_duration = 0 #1.5 sekunden Unverwundbarkeit ( 1000 = 1 sec) (fertig)
        self.power_up_activ_time = 0 #löscht powerup  (1000 = 1 sec) (fertig)
        self.spawn_duration = 0 # spawnzeit nach letztem Powerup ( 1000 = 1 sec) (fertig)
        
powerupconfig = PowerUpConfig()

class PowerUpMain:
    def __init__(self, particle_size=25):
        self.particle_size = particle_size
        self.position = None
        self.active_powerup = None
        self.powerup_spawned = True
        self.powerup_spawntime = 0
        self.powerup_despawntime = 0
        self.spawn_powerup_delay = 0
        self.config = powerupconfig
        self.types = []
        self.image_files = {}

class PowerupSettingsMenu():
    def __init__(self):
        self.config = PowerUpConfig
        self.settingsMenu_powerup_magnet = ""
        self.settingsMenu_speedx2 = []
        self.settingsMenu_speedHalf = []
        self.settingsMenu_immunity = []
        self.settingsMenu_magnet_duration = ""
        self.settingsMenu_speedx2_duration = ""
        self.settingsMenu_speedHalf_duration = ""
        self.settingsMenu_immunity_duration = ""

    def setPowerupMenuToggleMagnet(self):
        self.settingsMenu_powerup_magnet = bool(self.settingsMenu_powerup_magnet)# bool in true oder false ->set ("x")/1/[1]  = true(1) 0/""/[] = false
        try:
            self.settingsMenu_magnet_duration = int(self.settingsMenu_magnet_duration)
        except ValueError:
            print("falsche Eingabe für die Dauer des Magnet Powerups. Bitte gebe eine gültige zahl ein (1000 = 1 Sekunde)")
            return
        if self.settingsMenu_magnet_duration >= 1:
            self.config.powerup_magnet_duration = self.settingsMenu_magnet_duration  
            print("Das Powerup Magnet wurde auf", self.config.powerup_magnet_duration, " millisekunden gesetzt")
            return self.config.powerup_magnet_duration
        if self.settingsMenu_powerup_magnet:
            return self.settingsMenu_powerup_magnet
        else:
            if self.settingsMenu_powerup_magnet == False:
                print("powerup Magnet ist deaktiviert")
                return False

    def setPowerupMenuToggle_speedx2(self):
        self.settingsMenu_speedx2 = bool(self.settingsMenu_speedx2)# bool in true oder false ->set ("x")/1/[1]  = true(1) 0/""/[] = false
        try:
            self.settingsMenu_speedx2 = int(self.settingsMenu_speedx2)
        except ValueError:
            print("falsche Eingabe für die Dauer der Doppelten Geschwindigkeit. Bitte gebe eine gültige zahl ein (1000 = 1 Sekunde)")
            return
        if self.settingsMenu_speedx2 >= 1:
            self.config.powerup_magnet_duration = self.settingsMenu_speedx2  
            print("Das Powerup Doppelte Geschwindigkeit wurde auf", self.config.speed_boost_x2_duration, " millisekunden gesetzt")
            return self.config.speed_boost_x2_duration
        if self.settingsMenu_speedx2:
            return self.settingsMenu_speedx2
        else:
            if self.settingsMenu_speedx2 == False:
                print("powerup Doppelte Geschwindigkeit ist deaktiviert")
                return False

#currently working on:
    # def setPowerupMenuToggle_speedhalf(self,settingsMenu_speedHalf):
    #     self.powerup_magnet = bool(settingsMenu_speedHalf) # bool in true oder false ->set ("x")/1/[1]  = true(1) 0/""/[] = false
    #     return self.settingsMenu_speedHalf 
    
    # def setPowerupMenuToggle_immunity(self,settingsMenu_immunity):
    #     self.powerup_magnet = bool(settingsMenu_immunity) # bool in true oder false ->set ("x")/1/[1]  = true(1) 0/""/[] = false
    #     return self.settingsMenu_immunity 

powerupsettingsmenu = PowerupSettingsMenu()
